{"ast":null,"code":"import * as actionTypes from \"../constants/auth.constant\";\nimport axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nexport const login = (username, password) => async (dispatch, getState) => {\n  try {\n    const {\n      data\n    } = await axios.post(\"/auth/login\", {\n      username,\n      password\n    });\n\n    if (!data.message) {// localStorage.setItem(\"user\", JSON.stringify(getState().auth.user));\n    } else {}\n  } catch (e) {\n    dispatch({\n      type: actionTypes.LOGIN_FAIL,\n      payload: {\n        message: data.message\n      }\n    });\n  }\n\n  return JSON.stringify(getState().auth.accessToken);\n};","map":{"version":3,"sources":["E:/Web/ReactJS/ClothesShop/frontend/src/redux/actions/auth.action.js"],"names":["actionTypes","axios","jwt_decode","login","username","password","dispatch","getState","data","post","message","e","type","LOGIN_FAIL","payload","JSON","stringify","auth","accessToken"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,4BAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,OAAO,MAAMC,KAAK,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AACvE,MAAG;AACC,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMP,KAAK,CAACQ,IAAN,CAAW,aAAX,EAA0B;AAC7CL,MAAAA,QAD6C;AAE7CC,MAAAA;AAF6C,KAA1B,CAAvB;;AAKA,QAAI,CAACG,IAAI,CAACE,OAAV,EAAmB,CAGf;AACH,KAJD,MAIO,CAEN;AACJ,GAbD,CAaC,OAAMC,CAAN,EAAQ;AACLL,IAAAA,QAAQ,CAAC;AACLM,MAAAA,IAAI,EAAEZ,WAAW,CAACa,UADb;AAELC,MAAAA,OAAO,EAAE;AACLJ,QAAAA,OAAO,EAAEF,IAAI,CAACE;AADT;AAFJ,KAAD,CAAR;AAMH;;AAED,SAAOK,IAAI,CAACC,SAAL,CAAeT,QAAQ,GAAGU,IAAX,CAAgBC,WAA/B,CAAP;AACH,CAxBM","sourcesContent":["import * as actionTypes from \"../constants/auth.constant\";\r\nimport axios from \"axios\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport const login = (username, password) => async (dispatch, getState) => {\r\n    try{\r\n        const { data } = await axios.post(\"/auth/login\", {\r\n            username,\r\n            password,\r\n        });\r\n\r\n        if (!data.message) {\r\n            \r\n\r\n            // localStorage.setItem(\"user\", JSON.stringify(getState().auth.user));\r\n        } else {\r\n            \r\n        }\r\n    }catch(e){\r\n        dispatch({\r\n            type: actionTypes.LOGIN_FAIL,\r\n            payload: {\r\n                message: data.message,\r\n            },\r\n        });\r\n    }\r\n\r\n    return JSON.stringify(getState().auth.accessToken);\r\n};\r\n"]},"metadata":{},"sourceType":"module"}
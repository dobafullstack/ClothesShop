{"ast":null,"code":"import * as actionTypes from '../constants/cart.constant';\nexport const addToCart = item => async (dispatch, getState) => {\n  const cart = getState().cart.products;\n\n  if (cart.length !== 0) {\n    //cart is not null\n    const index = cart.findIndex(product => product._id === item._id);\n    console.log(index);\n\n    if (index >= 0) {\n      //item exist in cart\n      dispatch({\n        type: actionTypes.UPDATE_CART,\n        payload: {\n          product: item\n        }\n      });\n    } else {\n      //item is not exist in cart\n      dispatch({\n        type: actionTypes.ADD_TO_CART,\n        payload: {\n          product: item,\n          totalPrice: item.price\n        }\n      });\n    }\n  } else {\n    dispatch({\n      type: actionTypes.ADD_TO_CART,\n      payload: {\n        product: item,\n        totalPrice: item.price\n      }\n    });\n  }\n};","map":{"version":3,"sources":["E:/Web/ReactJS/ClothesShop/frontend/src/redux/actions/cart.action.js"],"names":["actionTypes","addToCart","item","dispatch","getState","cart","products","length","index","findIndex","product","_id","console","log","type","UPDATE_CART","payload","ADD_TO_CART","totalPrice","price"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,4BAA7B;AAEA,OAAO,MAAMC,SAAS,GAAIC,IAAD,IAAU,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AAC7D,QAAMC,IAAI,GAAGD,QAAQ,GAAGC,IAAX,CAAgBC,QAA7B;;AAEA,MAAID,IAAI,CAACE,MAAL,KAAgB,CAApB,EAAsB;AAAE;AACpB,UAAMC,KAAK,GAAGH,IAAI,CAACI,SAAL,CAAeC,OAAO,IAAIA,OAAO,CAACC,GAAR,KAAgBT,IAAI,CAACS,GAA/C,CAAd;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;;AACA,QAAIA,KAAK,IAAI,CAAb,EAAe;AAAE;AACbL,MAAAA,QAAQ,CAAC;AACLW,QAAAA,IAAI,EAAEd,WAAW,CAACe,WADb;AAELC,QAAAA,OAAO,EAAE;AACLN,UAAAA,OAAO,EAAER;AADJ;AAFJ,OAAD,CAAR;AAMH,KAPD,MAOK;AAAE;AACHC,MAAAA,QAAQ,CAAC;AACLW,QAAAA,IAAI,EAAEd,WAAW,CAACiB,WADb;AAELD,QAAAA,OAAO,EAAE;AACLN,UAAAA,OAAO,EAAER,IADJ;AAELgB,UAAAA,UAAU,EAAEhB,IAAI,CAACiB;AAFZ;AAFJ,OAAD,CAAR;AAOH;AACJ,GAnBD,MAmBK;AACDhB,IAAAA,QAAQ,CAAC;AACLW,MAAAA,IAAI,EAAEd,WAAW,CAACiB,WADb;AAELD,MAAAA,OAAO,EAAE;AACLN,QAAAA,OAAO,EAAER,IADJ;AAELgB,QAAAA,UAAU,EAAEhB,IAAI,CAACiB;AAFZ;AAFJ,KAAD,CAAR;AAOH;AACJ,CA/BM","sourcesContent":["import * as actionTypes from '../constants/cart.constant';\r\n\r\nexport const addToCart = (item) => async (dispatch, getState) => {\r\n    const cart = getState().cart.products;\r\n\r\n    if (cart.length !== 0){ //cart is not null\r\n        const index = cart.findIndex(product => product._id === item._id);\r\n        console.log(index)\r\n        if (index >= 0){ //item exist in cart\r\n            dispatch({\r\n                type: actionTypes.UPDATE_CART,\r\n                payload: {\r\n                    product: item\r\n                }\r\n            })\r\n        }else{ //item is not exist in cart\r\n            dispatch({\r\n                type: actionTypes.ADD_TO_CART,\r\n                payload: {\r\n                    product: item,\r\n                    totalPrice: item.price,\r\n                },\r\n            });\r\n        }\r\n    }else{\r\n        dispatch({\r\n            type: actionTypes.ADD_TO_CART,\r\n            payload: {\r\n                product: item,\r\n                totalPrice: item.price\r\n            }\r\n        })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}
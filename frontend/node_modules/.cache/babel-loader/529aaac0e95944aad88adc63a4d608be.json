{"ast":null,"code":"import * as actionTypes from \"../constants/cart.constant\";\nconst initialState = {\n  products: [],\n  totalPrice: 0\n};\nimport { toast } from \"react-toastify\";\nexport const cartReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.ADD_TO_CART:\n      return { ...state,\n        products: [...state.products, {\n          product: { ...action.payload.product\n          },\n          count: 1\n        }],\n        totalPrice: state.totalPrice + action.payload.totalPrice\n      };\n\n    case actionTypes.UPDATE_CART:\n      const products = [...state.products];\n      const index = products.findIndex(item => item.product._id === action.payload.product._id);\n      products[index].count = products[index].count + 1;\n      return { ...state,\n        products: [...products],\n        totalPrice: state.totalPrice + action.payload.product.price\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["E:/Web/ReactJS/ClothesShop/frontend/src/redux/reducers/cart.reducer.js"],"names":["actionTypes","initialState","products","totalPrice","toast","cartReducer","state","action","type","ADD_TO_CART","product","payload","count","UPDATE_CART","index","findIndex","item","_id","price"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,4BAA7B;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,QAAQ,EAAE,EADO;AAEjBC,EAAAA,UAAU,EAAE;AAFK,CAArB;AAKA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGL,YAAT,EAAuBM,MAAvB,KAAkC;AACzD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKR,WAAW,CAACS,WAAjB;AACI,aAAO,EACH,GAAGH,KADA;AAEHJ,QAAAA,QAAQ,EAAE,CACN,GAAGI,KAAK,CAACJ,QADH,EAEN;AACIQ,UAAAA,OAAO,EAAE,EAAE,GAAGH,MAAM,CAACI,OAAP,CAAeD;AAApB,WADb;AAEIE,UAAAA,KAAK,EAAE;AAFX,SAFM,CAFP;AASHT,QAAAA,UAAU,EAAEG,KAAK,CAACH,UAAN,GAAmBI,MAAM,CAACI,OAAP,CAAeR;AAT3C,OAAP;;AAWJ,SAAKH,WAAW,CAACa,WAAjB;AACI,YAAMX,QAAQ,GAAG,CAAC,GAAGI,KAAK,CAACJ,QAAV,CAAjB;AACA,YAAMY,KAAK,GAAGZ,QAAQ,CAACa,SAAT,CACTC,IAAD,IAAUA,IAAI,CAACN,OAAL,CAAaO,GAAb,KAAqBV,MAAM,CAACI,OAAP,CAAeD,OAAf,CAAuBO,GAD5C,CAAd;AAGAf,MAAAA,QAAQ,CAACY,KAAD,CAAR,CAAgBF,KAAhB,GAAwBV,QAAQ,CAACY,KAAD,CAAR,CAAgBF,KAAhB,GAAwB,CAAhD;AAEA,aAAO,EACH,GAAGN,KADA;AAEHJ,QAAAA,QAAQ,EAAE,CAAC,GAAGA,QAAJ,CAFP;AAGHC,QAAAA,UAAU,EAAEG,KAAK,CAACH,UAAN,GAAmBI,MAAM,CAACI,OAAP,CAAeD,OAAf,CAAuBQ;AAHnD,OAAP;;AAMJ;AACI,aAAOZ,KAAP;AA3BR;AA6BH,CA9BM","sourcesContent":["import * as actionTypes from \"../constants/cart.constant\";\r\n\r\nconst initialState = {\r\n    products: [],\r\n    totalPrice: 0,\r\n};\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nexport const cartReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.ADD_TO_CART:\r\n            return {\r\n                ...state,\r\n                products: [\r\n                    ...state.products,\r\n                    {\r\n                        product: { ...action.payload.product },\r\n                        count: 1,\r\n                    },\r\n                ],\r\n                totalPrice: state.totalPrice + action.payload.totalPrice,\r\n            };\r\n        case actionTypes.UPDATE_CART:\r\n            const products = [...state.products];\r\n            const index = products.findIndex(\r\n                (item) => item.product._id === action.payload.product._id\r\n            );\r\n            products[index].count = products[index].count + 1;\r\n\r\n            return {\r\n                ...state,\r\n                products: [...products],\r\n                totalPrice: state.totalPrice + action.payload.product.price,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}